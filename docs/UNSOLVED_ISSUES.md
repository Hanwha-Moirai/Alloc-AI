# 추가적으로 해결해야 할 문제점

## 1. 재현성 / 스냅샷 일관성
- 생성 시점과 이후 데이터 변경으로 인한 결과 불일치 가능성
- 해결 필요 사항
  - 생성 기준 시각(`as_of_timestamp`) 고정
  - 주차 범위 서버 확정
  - 기준 문서 버전 관리

---

## 2. 상태 관리 정의 부족
- “검토 보류”의 서버/DB 관점 의미 불명확
- 해결 필요 사항
  - 주간 보고 상태 정의
    - DRAFT
    - SAVED
    - (필요 시) PUBLISHED
  - 상태 전이에 따른 동작 규칙 명확화

---

## 3. 권한(Authorization) 규칙
- 누가 생성/조회/수정 가능한지 정책 부재
- 해결 필요 사항
  - PM 전용 생성 여부
  - 프로젝트 참여자 권한 구분
  - 권한 검증 위치(Spring 기준)

---

## 4. 성능 / 타임아웃 / 장애 대응
- RAG 포함 생성의 지연 및 실패 가능성
- 해결 필요 사항
  - 동기 처리 허용 범위
  - 생성 실패 시 재시도 전략
  - 부분 실패(리스크 리포트 실패 등) 처리 기준

---

## 5. 서비스 간 API 계약 고정
- FASTAPI ↔ Spring 간 응답 스키마 변경 리스크
- 해결 필요 사항
  - 요청/응답 스키마 고정
  - 필수 필드 검증
  - 버전 관리 전략
